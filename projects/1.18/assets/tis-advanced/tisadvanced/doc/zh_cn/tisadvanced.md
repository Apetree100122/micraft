# TIS Advanced

TIS Advanced包含如下新内容：五个新的模块，还有执 行模块的十二条新指令。
在整篇文档中，有几处涉及16位二进制数的比特位。在这些地方比特位按照Msb0规则来编号，也就是最高有效位为第0位。
*译注：Msb即Most-Significant-Bit，最高有效位*

## 新模块

- [ASIC模块](modules/asic_module.md)
- [磁带存储模块](modules/tape_storage.md)
- [无线电模块](modules/radio_module.md)
- [七段数码管](modules/seven_segment_display.md)
- [雷达模块](modules/radar_module.md)

## 执行模块的新指令

### 浮点数算术运算指令

`ADDF`、`SUBF`、`MULF`、`DIVF`
作用就和它们的整数版作用一样。但是它们对`ACC`寄存器进行操作时，会认为里面的值是一个IEEE-754标准的 半精度浮点数。

要注意，在`ACC`寄存器中存储一个整数然后对它进行浮点运算是可行的，反之亦然。但这有可能会得到错误的数值。确保操作进行于正确的数据类型是用户的责任。

### 浮点数流程控制指令

`JEZF`、`JNZF`、`JGZF`、`JLZF`
作用与它们的整数版本`JEZ`、`JNZ`、`JGZ`和`JLZ`相同。然 而，就像上面的浮点算术运算一样，他们对`ACC`进行操作时也会将里面的值作为IEEE-754半精度浮点数对待。

另外，如果存储在`ACC`寄存器中的值是一个IEEE-754半 精度浮点数标准中的`NaN`（非数字）值，`JIN`指令会跳 转到给定的标签。`JNN`指令的作用相反，在`ACC`不是`NaN`值时会跳转到给定的标签。

### 浮点数转换指令

`FLT`会把`ACC`寄存器中存储的整数转换为用IEEE-754半 精度浮点数表示。`INT`会把存储在`ACC`寄存器中的浮点数转换为标准TIS-3D算术运算操作使用的16位有符号补码 整数来表示。转化为整数表示时会把浮点数近似取整为最接近的整数，并且是向上取整。

### MOV指令的变化

`MOV`指令的功能被扩展为能够支持处理浮点数。例如，`MOV 0.25 ACC`这条指令不再会导致编译错误了，现在它可以如期把浮点数`0.25`装载到`ACC`寄存器当中。
